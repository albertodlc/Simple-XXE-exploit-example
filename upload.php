<?php

// URL tutorial: https://code.tutsplus.com/tutorials/how-to-upload-a-file-in-php-with-example--cms-31763


if (isset($_POST['uploadBtn']) && $_POST['uploadBtn'] == 'Upload') {
    if (isset($_FILES['uploadedFile']) && $_FILES['uploadedFile']['error'] === UPLOAD_ERR_OK) {
        // Upload file
        $fileContent = file_get_contents($_FILES['uploadedFile']['tmp_name']);
        
        $dom = new DOMDocument();
        $dom->loadXML($fileContent, LIBXML_NOENT | LIBXML_DTDLOAD);

        // Send back to the user the XML info
        $creds = simplexml_import_dom($dom);
        $user = $creds->user;
        $pass = $creds->pass;

        echo nl2br("\n\n");
        echo "You have logged in as user $user";
        echo nl2br("\n");
        echo "You have logged with password $pass";
    }
}
